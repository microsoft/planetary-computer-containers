name: si-pch
channels:
  - conda-forge
dependencies:
  - python>=3.10.10
  - pangeo-notebook>=2023.03.15
  - pip>=20
  - adlfs
  - awscli
  - azure-data-tables
  - boto3
  - bottleneck
  - cartopy
  - cchardet  # workaround https://github.com/Azure/azure-sdk-for-python/issues/21516
  - cfgrib>=0.9.9.1
  - ciso
  - click
  - contextily
  - dask-cloudprovider
  - dask-kubernetes
  - azure-cli-core  # technically too old: https://github.com/conda-forge/azure-cli-core-feedstock/pull/15
  - msrestazure
  - azure-identity
  - dask-geopandas
  - dask-ml
  - datacube
  - datashader
  - descartes
  - eccodes>=2.24.2
  - eofs
  - erddapy
  - esmpy
  - fastjmd95
  - flox
  - folium
  - fsspec
  - gcsfs
  - geocube
  - geogif
  - geopandas>=0.11.0
  - geoviews-core
  - gsw
  - h5netcdf
  - h5py
  - holoviews
  - hvplot
  - intake
  - intake-esm
  - intake-geopandas
  - intake-xarray
  - ipyleaflet
  - ipywidgets
  - jupyter-panel-proxy
  - jupyter-resource-usage
  - jupyterlab-geojson
  - leafmap>=0.7.6
  - lz4
  - matplotlib-base
  - metpy
  - nb_conda_kernels
  - nbstripout
  - nc-time-axis
  - netcdf4
  - nomkl
  - numcodecs
  - numpy
  - odc-algo
  - odc-stac>=0.3.2
  - pandas>=2.0.0
  - panel
  - papermill
  - parcels
  - pangeo-forge-recipes
  - pint
  - planetary-computer>=0.4.6
  - prefect
  - pyarrow
  - pycamhd
  - pydap
  - pyepsg
  - pystac-client>=0.5.0
  - pystac>=1.1.0
  - python-blosc
  - python-gist
  - python-graphviz
  - python-pdal>=3.1.2
  - rasterio>=1.3.0
  - rechunker
  - rich
  - rio-cogeo
  - rio-tiler
  - rioxarray
  - s3fs>0.5
  - sarsen
  - satpy
  - scikit-image
  - scikit-learn
  - scipy
  - seaborn
  - sparse
  - stac-vrt
  - stac-geoparquet
  - stackstac>=0.4.2
  - tiledb-py
  - voila
  - xarray-sentinel
  - xarray-spatial>=0.2.9
  - xarray>=2023.4.2
  - xarrayutils
  - xcape
  - xclim>=0.43.0
  - xcube
  - xesmf
  - xgcm
  - xmip
  - xhistogram
  - xlayers
  - xmitgcm
  - xpublish
  - xrft
  - zarr

  # si-pchub dependencies - skipping the ones listed above by commenting them out
  # template dependencies
  - cleanlab=2.4.0
  - dask=2023.7.1
  - dask-gateway=2023.1.1
  - fastcore=1.5.29
  - fastprogress=1.0.3
  - gdal=3.7.0
  - ipycytoscape=1.3.3
  # - leafmap=0.23.0
  - mlflow=2.5.0
  # - odc-stac=0.3.6
  - paramiko=3.3.1
  # - planetary-computer=1.0.0
  # - pystac-client=0.7.2
  # - stackstac=0.4.4
  # - testbook=0.4.2
  # - xarray-spatial=0.3.5
  # gpu depencencies
  # - cuml https://docs.rapids.ai/install
  # - pytorch=2.0.0
  # space-intelligence dependencies
  - azure-keyvault-secrets=4.7.0
  # - azure-identity=1.12.0
  - azure-storage-blob=12.17.0
  - affine=2.4.0
  # - boto3=1.28.15
  - earthengine-api=0.1.361
  - geemap=0.25.0
  # - geocube=0.4.2
  - geojson=3.0.1
  # - geopandas=0.13.2
  - google-auth=2.22.0
  - google-cloud-storage=2.10.0
  # - h5py=3.9.0
  - lightgbm=4.0.0
  - matplotlib=3.7.2
  # - numpy=1.24.4
  # - pandas=2.0.3
  # - pyarrow=12.0.1
  # - rasterio=1.3.8
  - requests=2.31.0
  - retry=0.9.2
  # - rioxarray=0.14.1
  # - scikit-image=0.21.0
  # - scikit-learn=1.3.0
  # - scipy=1.11.1
  # - seaborn=0.12.2
  - tqdm=4.65.0
  # - zarr=2.16.0
  # Local dev dependencies
  - pytest=7.4.0
  - pytest-mock=3.11.1
  - pytest-order=1.0.1

  - pip:
    - --index-url https://aws:${CODEARTIFACT_AUTH_TOKEN}@space-intelligence-040767303675.d.codeartifact.us-east-2.amazonaws.com/pypi/si/simple/
    - space-intelligence==0.4.5
    # Assumes token in env, which can be achieved with this command:
    # export CODEARTIFACT_AUTH_TOKEN=`aws codeartifact get-authorization-token --domain space-intelligence --domain-owner 040767303675 --region us-east-2 --query authorizationToken --output text`
